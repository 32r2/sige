@using SIGES.Models;
@{
    ViewBag.Title = "Reportes por área";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    #chart {
        max-width: 950px;
        margin: 35px auto;
    }
</style>
<script src="~/Scripts/polyfill.min.js"></script>
<script src="~/Scripts/classList.min.js"></script>
<script src="~/Scripts/findindex_polyfill_mdn.js"></script>
<link href="~/Content/dataTables.bootstrap4.css" rel="stylesheet" />
<script src="~/Scripts/apexcharts.js"></script>
<link href="~/Content/Exportar/jquery.dataTables.min.css" rel="stylesheet" />
<link href="~/Content/Exportar/buttons.dataTables.min.css" rel="stylesheet" />

<script>

    var _seed = 42;
    Math.random = function () {
        _seed = _seed * 16807 % 2147483647;
        return (_seed - 1) / 2147483646;
    };
</script>
<h2>Reportes por área</h2>

<div class="card">
    <div class="card-body">
        <div id="chart"></div>
    </div>
</div>
<div class="card">
    <div class="card-body">
        <h5 class="card-title">Tabla de incidencias por área</h5>
        <div class="table-responsive">
            <table id="zero_config"
                   class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Reporte</th>
                        <th>Incidencia</th>
                        <th>Sucursal</th>
                        <th>Fecha Reporte</th>
                        <th>Fecha Solución</th>
                        <th>Estatus</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        if (IncidenciasSupervision.IDRIncidencia != null)
                        {
                            for (int i = 0; i < IncidenciasSupervision.IDRIncidencia.Count(); i++)
                            {
                                string Estatus = "En proceso...";
                                string EstiloLetras = "color:red;";
                                if (IncidenciasSupervision.Estatus[i] == 0)
                                {
                                    Estatus = "Finalizada";
                                    EstiloLetras = "color:green;";
                                }
                                <tr>
                                    <td>@IncidenciasSupervision.IDRIncidencia[i]</td>
                                    <td>@IncidenciasSupervision.NombreIncidencia[i]</td>
                                    <td>@IncidenciasSupervision.Tienda[i].Replace("Plus ", "Plus-")</td>
                                    <td>@IncidenciasSupervision.ReporteFecha[i]</td>
                                    <td>@IncidenciasSupervision.SolucionFecha[i]</td>
                                    <td style="@EstiloLetras">@Estatus</td>
                                </tr>
                            }
                        }
                    }
                </tbody>
                <tfoot>
                    <tr>
                        <th>Reporte</th>
                        <th>Incidencia</th>
                        <th>Sucursal</th>
                        <th>Fecha Reporte</th>
                        <th>Fecha Solución</th>
                        <th>Estatus</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>    
</div>

<script src="~/Scripts/jquery.min.js"></script>
@*<script src="~/Scripts/datatables.min.js"></script>*@
<script src="~/Scripts/Own/JS_System_Reportes_Incidencias_Area.js"></script>
@*/********************************//*@
<script src="~/Scripts/Exportar/jquery.dataTables.min.js"></script>
<script src="~/Scripts/Exportar/dataTables.buttons.min.js"></script>
<script src="~/Scripts/Exportar/buttons.print.min.js"></script>
<script src="~/Scripts/Exportar/jszip.min.js"></script>
<script src="~/Scripts/Exportar/pdfmake.min.js"></script>
<script src="~/Scripts/Exportar/vfs_fonts.js"></script>
<script src="~/Scripts/Exportar/buttons.html5.min.js"></script>
@* ********************************** *@

<script>
    $('#zero_config').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'print',
            'copyHtml5',
            'excelHtml5',
            'csvHtml5',
            'pdfHtml5'
        ]
    });
</script>